<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="javascript.js" type="text/javascript"></script>
    <title>Spaceship</title>
</head>
<body>

<a-scene>
    
    <!--Alle Objekte, Bilder und Sounds werden geladen-->
    <a-assets>
        <a-asset-item id="roomspacestation" src="objects/roomspacestation.dae"></a-asset-item>
        <a-asset-item id="extinguisher" src="objects/extinguisher.dae"></a-asset-item>
        <a-asset-item id="bottle" src="objects/bottle.dae"></a-asset-item>
        <a-asset-item id="pencil" src="objects/pencil.dae"></a-asset-item>
        <a-image id="img-exit" src="pictures/exit.png"></a-image>
        <audio id="sirene" src="sounds/sirene_leave.mp3" preload="auto"></audio>
    </a-assets>


    <!-- Skybox wird eingebunden-->
    <a-sky color="white"></a-sky>

    <!-- Kamera -->
    <a-entity id="camera"
              position ="0 4 20.867"
              rotation ="0 0 0"
              camera look-controls wasd-controls>
        <a-cursor></a-cursor>

        <!-- Kamera Animation -->
        <a-animation begin="cameraPos1"
                     attribute="position"
                     to="0 4 15.381"
                     dur="8000">
        </a-animation>
        <a-animation begin="cameraPos2"
                     attribute="position"
                     to="0 4 9.194"
                     dur="8000">
        </a-animation>
        <a-animation begin="cameraPos3"
                     attribute="position"
                     to="0 4 3.847"
                     dur="8000">
        </a-animation>
        <a-animation begin="cameraPos4"
                     attribute="position"
                     to="0 4 -2.387"
                     dur="8000">
        </a-animation>
        <a-animation begin="cameraPos5"
                     attribute="position"
                     to="0 4 -7.866"
                     dur="8000">
        </a-animation>
        <a-animation begin="cameraPos6"
                     attribute="position"
                     to="0 4 -12.827"
                     dur="8000">
        </a-animation>
        <a-animation begin="cameraPos7"
                     attribute="position"
                     to="0 4 -15.566"
                     dur="8000">
        </a-animation>

    </a-entity>

    <!-- Bild für Szenenwechsel wird eingebunden-->
    <a-image src="#img-exit" position="0.055 4.575 -21.626" rotation="0 0 0" scale="2 2 2" visible="true">
        <a-animation attribute="visible"
                     delay="300"
                     dur="800"
                     from="true"
                     to="false"
                     repeat="indefinite">
        </a-animation>
    </a-image>


    <!-- Transblock für Szenenwechsel -->
    <a-image src="#img-exit" link="href: capsule.html" position="0.055 4.575 -21" rotation="0 0 0" scale="0.6 0.6 0.6" visible="false"></a-image>

    <!-- Licht -->
    <!-- Licht hinten -->
    <a-light light="type: point; color: #fff; intensity: 0.5; penumbra: 0.10; angle: 60.00"
             position="-0.053 7.5 12.3"
             rotation="9.17 0.57 -2.86"
             decay=" 1.00"
             distance="0.00">
    </a-light>
    <a-light light="type: point; color: #fff; intensity: 0.5; penumbra: 0.10; angle: 60.00"
             position="-0.3 5 14.1"
             rotation="9.17 0.57 -2.86"
             decay=" 1.00"
             distance="0.00">
    </a-light>

    <!-- Licht vorne -->
    <a-light light="type: point; color: #fff; intensity: 0.5; penumbra: 0.10; angle: 60.00"
             position="0.5 3.9 -24.7"
             rotation="9.17 90 -2.86"
             decay=" 1.00"
             distance="0.00"
             intensity="0.1">
    </a-light>


    <!-- rotes Alarmlicht -->
    <a-light light="type: point; color: red; intensity: 0.5; penumbra: 0.10; angle: 60.00"
             position="-0.6 4 21"
             rotation="0 0 0"
             decay=" 1.00"
             distance="0.00"
             intensity="0.1"
             visible="false">
        <a-animation attribute="visible" delay="1000" dur="1000" from="true" to="false" repeat="indefinite"> </a-animation>
    </a-light>


    <!-- Sound wird eingebunden -->
    <a-entity sound="src:#sirene; autoplay: true"></a-entity>


    <!--Spacestation ROOM wird eingebunden-->
    <a-entity collada-model="#roomspacestation"  position="0 0 0" rotation="0 90 0" scale="0.1 0.1 0.1">
    </a-entity>


    <!--Feuerloescher wird eingebunden und animiert-->
    <a-entity id="extinguisher" collada-model="#extinguisher" position="-1.312 3.422 13.640" rotation="10 90 -15" scale="0.2 0.2 0.2" >
       <a-animation
                     attribute="position"
                     dur="2000"
                     from="-1.312 3.422 13.640"
                     to="-1.312 3.634 13.640"
                     direction="alternate"
                     repeat="indefinite">
        </a-animation>
        <!-- <a-animation attribute="rotation"
                      dur="10000"
                      fill="forwards"
                      to="360 0 0"
                      repeat="indefinite">
         </a-animation> -->
    </a-entity>

    <!--Flasche wird eingebunden und animiert-->
    <a-entity id="bottle" collada-model="#bottle" position="-1.725 2.997 -16.307" scale="0.2 0.2 0.2">
        <!-- Animation Flasche fliegt nach vorne -->
        <a-animation attribute="position"
                     dur="6000"
                     from="-1.725 2.997 -16.307"
                     to="-1.725 2.4 -16.307"
                     direction="alternate"
                     repeat="indefinite">
        </a-animation>
    </a-entity>


    <!--Bleistift wird eingebunden und animiert-->
    <a-entity id="pencil" collada-model="#pencil" position="1.241 3.282 -4.5" scale="0.2 0.2 0.2">
        <a-animation attribute="position"
                     dur="5000"
                     from="1.241 3.282 -4.5"
                     to="1.241 4 -4.5"
                     direction="alternate"
                     repeat="indefinite">
        </a-animation><!--
        <a-animation attribute="rotation"
                     dur="7000"
                     fill="forwards"
                     to="360 360 0"
                     repeat="indefinite">
        </a-animation>-->
    </a-entity>

    <!--Kugelschreiber wird eingebunden und animiert
    <a-assets>
        <a-asset-item id="kugelschreiber" src="kugelschreiber.dae"></a-asset-item>
    </a-assets>
    <a-entity collada-model="#kugelschreiber" position="-15.187 3.686 -0.576" scale="0.2 0.2 0.2">
    </a-entity>
    -->

    <!-- Wegweiser Pfeile werden eingebunden und animiert -->
    <!-- Pfeil 1 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="0.028 1.596 14.558" rotation="270 0 0" material="color : red" event-animate="target:#camera; aevent:cameraPos1">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="0.028 1.596 14.083" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 2 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="0.028 1.596 8.769" rotation="270 0 0" material="color : red" event-animate="target:#camera; aevent:cameraPos2">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="0.028 1.596 8.269" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 3 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="0.028 1.596 3.373" rotation="270 0 0" material="color : red" event-animate="target:#camera; aevent:cameraPos3">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="0.028 1.596 2.873" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 4 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="0.028 1.596 -2.670" rotation="270 0 0" material="color : red" event-animate="target:#camera; aevent:cameraPos4">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="0.028 1.596 -3.170" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 5 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="0.028 1.596 -7.766" rotation="270 0 0" material="color : red" event-animate="target:#camera; aevent:cameraPos5">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="0.028 1.596 -8.266" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 6 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="0.028 1.596 -16.467" rotation="270 0 0" material="color : red" event-animate="target:#camera; aevent:cameraPos6">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="0.028 1.596 -16.967" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 7 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="0.028 1.596 -12.753" rotation="270 0 0" material="color : red" event-animate="target:#camera; aevent:cameraPos7">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="0.028 1.596 -13.253" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>


</a-scene>

</body>
</html>
